/*!CK:956581042!*//*1401285437,178198825*/

if (self.CavalryLogger) { CavalryLogger.start_js(["hxe+x"]); }

__d("PluginRecommendationsBar",["Arbiter","CSS","DOM","Event","Form","Plugin","PluginConnection","PluginResize","UnverifiedXD","copyProperties","curry","emptyFunction"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){function s(){}s.ACTION='Connect.Unsafe.platform/plugins/recommendations_bar/action';s.TRIGGER='Connect.Unsafe.platform/plugins/recommendations_bar/trigger';s.OPEN='platform/plugins/recommendations_bar/open';function t(v){var w=function(){w=r.thatReturns(v());};return function(){return w();};}var u=[s.ACTION,s.TRIGGER];p(s.prototype,{init:function(v,w){this.element=v;var x=new n(function(){return w.offsetWidth+2;},function(){return v.offsetHeight;});x.resize().auto();this.resizer=x;g.registerCallback(q(g.inform,s.OPEN),u);g.subscribe(s.OPEN,function(){h.addClass(v,'pluginRecommendationsBarOpen');o.send({type:'signal_animation'});x.resize();});},initRecommendation:function(v,w,x,y,z){var aa=t(q(k.bootstrap,v.getRoot()));g.subscribe(u,aa);j.listen(y,'click',aa);j.listen(y,'click',q(h.addClass,this.element,'pluginRecommendationsBarOpen'));j.listen(z,'click',function(event){if(x.showing()!=w){x.show(w);}else h.removeClass(this.element,'pluginRecommendationsBarOpen');this.resizer.resize();return true;}.bind(this));},initLike:function(v,w,x,y){var z=new m().init(v,w,'pluginRecommendationsBarButtonDepressed');j.listen(w,'click',function(event){k.bootstrap((z.connected()?y:x).getRoot());z.toggle();return true;});},initError:function(v,w){g.subscribe(l.ERROR,function(event,x){i.setContent(v,x.content);w.show(v.id);h.addClass(this.element,'pluginRecommendationsBarOpen');this.resizer.resize();}.bind(this));}});e.exports=s;},null);
__d("PluginStack",["CSS","DOMQuery","copyProperties","createArrayFrom"],function(a,b,c,d,e,f,g,h,i,j){function k(l,m){this._container=l;this._showing=m;}i(k.prototype,{show:function(l){this.hideAll();g.show(h.find(this.container(),'#'+l));this._showing=l;return this;},hideAll:function(){this.children().forEach(g.hide,g);return this;},container:function(){return this._container;},children:function(){return j(this.container().childNodes);},showing:function(){return this._showing;}});e.exports=k;},null);
__d("legacy:PluginOptin-legacy",["Plugin","PluginOptin"],function(a,b,c,d){if(!a.Plugin||!a.Plugin.CONNECT)a.Plugin=b('Plugin');a.Plugin.Optin=b('PluginOptin');},3);
__d("legacy:PluginRecommendationsBar-legacy",["Plugin","PluginRecommendationsBar"],function(a,b,c,d){if(!a.Plugin||!a.Plugin.CONNECT)a.Plugin=b('Plugin');a.Plugin.RecommendationsBar=b('PluginRecommendationsBar');},3);
__d("legacy:PluginStack-legacy",["Plugin","PluginStack"],function(a,b,c,d){if(!a.Plugin||!a.Plugin.CONNECT)a.Plugin=b('Plugin');a.Plugin.Stack=b('PluginStack');},3);