!function(){function add_event(element,event,callback){element.addEventListener?element.addEventListener(event,callback,!1):element.attachEvent("on"+event,callback)}function symphony_listener(event){"close_symphony_publisher"==event.data&&window.symphony&&window.symphony.iframe&&(window.symphony.iframe.parentNode.removeChild(window.symphony.iframe),window.symphony.iframe=null)}function isWindow(obj){return null!=obj&&obj===obj.window}function getWindow(elem){return isWindow(elem)?elem:9===elem.nodeType&&elem.defaultView}function find_coordinates(elem){var docElem,win,box={top:0,left:0},doc=elem&&elem.ownerDocument;if(doc){docElem=doc.documentElement,"undefined"!=typeof elem.getBoundingClientRect&&(box=elem.getBoundingClientRect()),win=getWindow(doc);var y=box.top+win.pageYOffset-docElem.clientTop,x=box.left+win.pageXOffset-docElem.clientLeft,style=win.getComputedStyle(doc.body);if("relative"==style.getPropertyValue("position")){var delta_y=parseInt(style.getPropertyValue("top"))||0,delta_x=parseInt(style.getPropertyValue("left"))||0;delta_y&&(y-=delta_y),delta_x&&(x-=delta_x)}var style=win.getComputedStyle(elem),border_top=parseInt(style.getPropertyValue("border-top-width"))||0,border_left=parseInt(style.getPropertyValue("border-left-width"))||0;return{y:y+border_top,x:x+border_left}}}function show_button_holder(image){var coords=find_coordinates(image);button_holder.style.top=coords.y+"px",button_holder.style.left=coords.x+image.width-button_image.width+"px",button.style.marginLeft="0",current_image=image}function hide_button_holder(){button.style.marginLeft=button_image.width+"px"}function set_image_events(image){var ratio=image.width/image.height;image.width>=100&&image.height>=100&&image.width+image.height>=550&&(image.width>=400||image.height>=400||ratio>=3/8&&8/3>=ratio)&&(image.onmouseover=function(){hide_timer&&(clearTimeout(hide_timer),hide_timer=null),show_button_holder(this)},image.onmouseout=function(){hide_timer=setTimeout(function(){hide_button_holder(),hide_timer=null},100)},image.onmousemove=function(){hide_timer&&(clearTimeout(hide_timer),hide_timer=null),show_button_holder(this)})}function search_images(){function indexOf(value,array){for(var i=0;i<array.length;i++)if(array[i]===value)return i;return-1}function is_header(elem){for(;elem;){var classes=elem.className?elem.className.split(" "):[];if("header"==elem.id||-1!=indexOf("header",classes)||"header"==elem.tagName)return!0;elem=elem.parentNode}return!1}button_holder=document.createElement("div"),button_holder.setAttribute("class","symphony_button_holder"),button_holder.style.overflow="hidden",button_holder.style.width=button_image.width+"px",button_holder.style.height=button_image.height+"px",button_holder.style.position="absolute",button_holder.style.top="-9999px",button_holder.style.left="-9999px",button_holder.style.zIndex=1e7,button_holder.onmouseover=function(){hide_timer?(clearTimeout(hide_timer),hide_timer=null):current_image&&show_button_holder(current_image)},button_holder.onmouseout=function(){hide_timer=setTimeout(function(){hide_button_holder(),hide_timer=null},100)},button=document.createElement("img"),button.style.cursor="pointer",button.style.display="block",button.style.marginLeft=button_image.width+"px",button.style.transition="margin 0.2s ease",button.setAttribute("src",CROSSPOST_BUTTON_URL),button.setAttribute("title","Share image to Facebook & Twitter."),button.onclick=function(){current_image&&window.symphony.show_publisher(document.location.href,{method:"picture",image_src:current_image.src,source:"image"})},button_holder.appendChild(button),document.body.appendChild(button_holder);for(var images=document.getElementsByTagName("img"),i=0;i<images.length;i++){var img=images[i];is_header(img)||(set_image_events(img),img.old_onload=img.onload,img.onload=function(){this.old_onload&&this.old_onload(),set_image_events(this)})}}function merge_params(obj1,obj2){var result={};if(obj1)for(var attrname in obj1)result[attrname]=obj1[attrname];if(obj2)for(var attrname in obj2)result[attrname]=obj2[attrname];return result}if(window.symphony=window.symphony||{},!window.symphony.is_loaded){window.symphony.is_loaded=!0,window.symphony.options={},window.symphony.version="1.0";var WEBSITE_ROOT_URL,WIDGET_ROOT_URL;WEBSITE_ROOT_URL="//www.symphonytools.com/",WIDGET_ROOT_URL="//widget.symphonytools.com/widget/";var CROSSPOST_BUTTON_URL=WIDGET_ROOT_URL+"images/crosspost_hover.png",current_image=null,hide_timer=null,button_holder=null,button=null,button_image=null;add_event(window,"message",symphony_listener),window.symphony.show_publisher=function(message,options){options=options||{};var image_src=options.image_src||"";message==image_src&&(message="");var link=WEBSITE_ROOT_URL+"publisher?message="+encodeURIComponent(message)+"&version="+window.symphony.version+(options.source?"&source="+options.source:"")+(options.method?"&method="+options.method:"")+(image_src?"&image_src="+encodeURIComponent(image_src):""),all_params=merge_params(window.symphony.options.params,options.params);if(all_params)for(var name in all_params){var value=all_params[name];value&&(link=link+"&"+encodeURIComponent(name)+"="+encodeURIComponent(value))}if("dialog"==options.mode){link+="&mode=dialog";var width=800,offset_left=(screen.availWidth-width)/2,offset_top=70;window.open(link,"_blank","width=970,height=420,titlebar=no,status=no,menubar=no,location=no,top="+offset_top+",left="+offset_left)}else{var temp=document.createElement("div");temp.style.position="fixed",temp.style.top=0,temp.style.left=0,temp.style.width="100%",temp.style.height="100%",temp.style.maxWidth="100%",temp.style.maxHeight="100%",temp.style.zIndex=1e9,temp.style.backgroundColor="rgba(0,0,0,0.6)",document.body.appendChild(temp);var iframe=document.createElement("iframe");iframe.id="symphony_frame",iframe.src=link,iframe.style.position="fixed",iframe.style.top=0,iframe.style.left=0,iframe.style.zIndex=1e9,iframe.style.width="100%",iframe.style.height="100%",iframe.style.maxWidth="100%",iframe.style.maxHeight="100%",iframe.style.visibility="hidden",iframe.onload=function(){temp.parentElement.removeChild(temp),iframe.style.visibility="visible"},document.body.appendChild(iframe),window.symphony.iframe=iframe}},window.symphony.attach_images=function(){"complete"==document.readyState?(window.symphony=window.symphony||{},window.symphony.crosspost_loaded=!0,button_image=new Image,button_image.src=CROSSPOST_BUTTON_URL,button_image.onload=function(){search_images()}):setTimeout(window.symphony.attach_images,100)},window.symphony.attach_buttons=function(){if("complete"==document.readyState)for(var buttons=document.getElementsByClassName("symphony_crosspost"),i=0;i<buttons.length;i++)add_event(buttons[i],"click",function(e){e=e||window.event;var target=e.target||e.srcElement;for(3==target.nodeType&&(target=target.parentNode);target&&"a"!=target.tagName.toLowerCase();)target=target.parentNode;window.symphony.show_publisher(target.getAttribute("data-href")||document.location.href),e.preventDefault()});else setTimeout(window.symphony.attach_buttons,100)},window.symphony.init=function(options){options=options||{},options.features=options.features||["image","button"],window.symphony.options=options;for(var i=0;i<options.features.length;i++){var feature=options.features[i];"image"==feature?window.symphony.attach_images():"button"==feature&&window.symphony.attach_buttons()}}}}(),"undefined"==typeof networkedblogs?document.write("<span style='color:red'>NetworkedBlogs widget not installed correctly</span>"):("undefined"==typeof networkedblogs.nwidget&&(networkedblogs.nwidget={}),networkedblogs.url="http://www.networkedblogs.com/",networkedblogs.nwidget.url="http://nwidget.networkedblogs.com/",networkedblogs.nwidget.popupFollow=function(){return window.open(networkedblogs.url+"blog/"+networkedblogs.shortName+"/popup","NetworkedBlogs","status=1,toolbar=1,scrollbars=1,width=670,height=450"),!1},networkedblogs.nwidget.getFanCount=function(w,h){var xFanCount=Math.floor(w/41),yFanCount=Math.floor(h/41);return xFanCount*yFanCount},networkedblogs.nwidget.init=function(){var n=networkedblogs.nwidget,container=document.getElementById("networkedblogs_nwidget_container"),widget=document.getElementById("networkedblogs_nwidget_widget"),body=document.getElementById("networkedblogs_nwidget_body");if("undefined"==typeof n.width){if(!(container.clientWidth>0))return setTimeout(networkedblogs.nwidget.init,100),void 0;n.width=container.clientWidth}if("undefined"==typeof n.height){if(!(container.clientHeight>0))return setTimeout(networkedblogs.nwidget.init,100),void 0;n.height=container.clientHeight-container.style.paddingTop.replace("px","")}widget.style.width=n.width-2+"px",widget.style.height=n.height+"px",body.style.height=n.height-54+"px",n.fanCount=n.getFanCount(n.width-2,n.height-54-10),n.iframe=document.createElement("iframe"),n.iframe.id="networkedblogs_nwidget_iframe",n.iframe.frameBorder="0",n.iframe.marginHeight="0",n.iframe.marginWidth="0",n.iframe.width="100%",n.iframe.height="100%",n.iframe.scrolling="no",n.iframe.src="number"==typeof n.fanCount?n.url+"getnetworkwidgetmain?bid="+networkedblogs.blogId.toString()+"&fancount="+n.fanCount.toString():n.url+"getnetworkwidgetmain?bid="+networkedblogs.blogId.toString(),body.appendChild(n.iframe),document.getElementById("networkedblogs_nwidget_follow").getElementsByTagName("a")[0].onclick=n.popupFollow},networkedblogs.is_send=!1,networkedblogs.timer=!1,networkedblogs.checkVisibility=function(){if(!networkedblogs.is_send){var elem=document.getElementById("networkedblogs_nwidget_container"),scrollTop=networkedblogs.getWindowTop(),scrollBottom=scrollTop+networkedblogs.getWindowHeight(),elemTop=networkedblogs.getElemTop(elem),elemBottom=elemTop+elem.clientHeight;elemTop-=100,elemBottom+=100;var send_request=!1;(scrollTop==scrollBottom||elemTop==elemBottom)&&(send_request=!0),scrollBottom>=elemTop&&elemBottom>=scrollTop&&(send_request=!0),send_request&&networkedblogs.send_request()}},networkedblogs.getWindowTop=function(){var scrOfY=0;return"number"==typeof window.pageYOffset?scrOfY=window.pageYOffset:document.body&&document.body.scrollTop?scrOfY=document.body.scrollTop:document.documentElement&&document.documentElement.scrollTop&&(scrOfY=document.documentElement.scrollTop),scrOfY},networkedblogs.getWindowHeight=function(){var height=0;return document.body&&document.body.offsetWidth&&(height=document.body.offsetHeight),"CSS1Compat"==document.compatMode&&document.documentElement&&document.documentElement.offsetWidth&&(height=document.documentElement.offsetHeight),window.innerWidth&&window.innerHeight&&(height=window.innerHeight),height},networkedblogs.getElemTop=function(elem){var curtop=0;if(elem.offsetParent)do curtop+=elem.offsetTop;while(elem=elem.offsetParent);return curtop},networkedblogs.send_request=function(){networkedblogs.is_send=!0,clearInterval(networkedblogs.timer),networkedblogs.nwidget.init()},networkedblogs.timer=setInterval(networkedblogs.checkVisibility,100),networkedblogs.blogId>=8e5&&networkedblogs.symphony_crosspost!==!1&&window.symphony.init({params:{ref:"networkedblogs"}}));